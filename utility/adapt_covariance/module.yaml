name: adapt_covariance
version: '1.0'
purpose: Generate a covariance matrix file
url: ''
interface: adapt_covariance.py
attribution: [Emilio Bellini]
rules: Please maintain attribution.
cite: []
assumptions:

explanation: |
    "
    This module generates a covariance matrix to be used by the samplers
    that accept it. It takes the content of an ini file and an existing
    covariance matrix with fewer parameters. It performs two tasks:
    - re-roder the parameters to match the one of the ini file
    - add and/or remove rows and columns to match the parameters of the
      ini file. The new elements will have off-diagonal terms set to zero.
      The diagonal terms are calculated from the prior width divided by
      a squeeze_factor (default: 10). In this way it is easy to generate
      initial points when we are adding parameters to previously run chains.

    It should be put at the beginning of the pipeline. It has only a setup
    method, while execute is empty.

    In the sampler section one should specify the covmat option providing
    the path of a file. The file can be non-existent (it will be created by
    this module at the location specified)
    "

params:
    covmat:
        meaning: 'A file containing the covariance matrix for a list of parameters (listed in the head of the file). The covmat file generated by cosmosis-postprocess is ok'
        type: str
        default: ''
    squeeze_factor:
        meaning: 'If a parameter has not an element in the covmat file decide the standard deviation of that parameter by taking the square root of the prior width divided by this factor.'
        type: float
        default: 10.

inputs: {}
outputs: {}
